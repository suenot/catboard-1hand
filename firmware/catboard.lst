   1               		.file	"catboard.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  15               	.Ltext0:
  16               		.section	.text.caps_lock_change_layer,"ax",@progbits
  17               	.global	caps_lock_change_layer
  19               	caps_lock_change_layer:
  20               	.LFB11:
  21               	.LSM0:
  22               	/* prologue: function */
  23               	/* frame size = 0 */
  24               	/* stack size = 0 */
  25               	.L__stack_usage = 0
  26               	.LSM1:
  27 0000 2091 0000 		lds r18,keyboard_leds
  28 0004 2270      		andi r18,lo8(2)
  29 0006 2093 0000 		sts caps_lock_led,r18
  30 000a 8091 0000 		lds r24,layout
  31 000e 9091 0000 		lds r25,layout+1
  32               	.LSM2:
  33 0012 2223      		tst r18
  34 0014 01F0      		breq .L2
  35               	.LSM3:
  36 0016 20E0      		ldi r18,lo8(layer1)
  37 0018 30E0      		ldi r19,hi8(layer1)
  38 001a 8217      		cp r24,r18
  39 001c 9307      		cpc r25,r19
  40 001e 01F0      		breq .L1
  41               	.LSM4:
  42 0020 40E0      		ldi r20,hi8(layer_fn)
  43 0022 8030      		cpi r24,lo8(layer_fn)
  44 0024 9407      		cpc r25,r20
  45 0026 01F4      		brne .L4
  46               	.LSM5:
  47 0028 3093 0000 		sts prev_layer+1,r19
  48 002c 2093 0000 		sts prev_layer,r18
  49 0030 00C0      		rjmp .L5
  50               	.L4:
  51               	.LSM6:
  52 0032 3093 0000 		sts layout+1,r19
  53 0036 2093 0000 		sts layout,r18
  54               	.L5:
  55               	.LSM7:
  56 003a 469A      		sbi 40-32,6
  57               	.LSM8:
  58 003c 8091 0000 		lds r24,led
  59 0040 8823      		tst r24
  60 0042 01F0      		breq .L1
  61               	.LSM9:
  62 0044 599A      		sbi 43-32,1
  63 0046 0895      		ret
  64               	.L2:
  65               	.LSM10:
  66 0048 20E0      		ldi r18,lo8(layer2)
  67 004a 30E0      		ldi r19,hi8(layer2)
  68 004c 8217      		cp r24,r18
  69 004e 9307      		cpc r25,r19
  70 0050 01F0      		breq .L1
  71               	.LSM11:
  72 0052 40E0      		ldi r20,hi8(layer_fn)
  73 0054 8030      		cpi r24,lo8(layer_fn)
  74 0056 9407      		cpc r25,r20
  75 0058 01F4      		brne .L6
  76               	.LSM12:
  77 005a 3093 0000 		sts prev_layer+1,r19
  78 005e 2093 0000 		sts prev_layer,r18
  79 0062 00C0      		rjmp .L7
  80               	.L6:
  81               	.LSM13:
  82 0064 3093 0000 		sts layout+1,r19
  83 0068 2093 0000 		sts layout,r18
  84               	.L7:
  85               	.LSM14:
  86 006c 5998      		cbi 43-32,1
  87               	.LSM15:
  88 006e 8091 0000 		lds r24,led
  89 0072 8111      		cpse r24,__zero_reg__
  90               	.LSM16:
  91 0074 4698      		cbi 40-32,6
  92               	.L1:
  93 0076 0895      		ret
  94               	.LFE11:
  96               		.section	.text.change_layout,"ax",@progbits
  97               	.global	change_layout
  99               	change_layout:
 100               	.LFB15:
 101               	.LSM17:
 102               	/* prologue: function */
 103               	/* frame size = 0 */
 104               	/* stack size = 0 */
 105               	.L__stack_usage = 0
 106               	.LSM18:
 107 0000 8091 0000 		lds r24,os_mode
 108 0004 8230      		cpi r24,lo8(2)
 109 0006 01F4      		brne .L9
 110               	.LSM19:
 111 0008 88E0      		ldi r24,lo8(8)
 112 000a 8093 0000 		sts keyboard_modifier_keys,r24
 113               	.LSM20:
 114 000e 1092 0000 		sts keyboard_keys,__zero_reg__
 115               	.LSM21:
 116 0012 0E94 0000 		call usb_keyboard_send
 117               	.LVL0:
 118               	.LBB15:
 119               	.LBB16:
 120               	.LSM22:
 121 0016 8FEF      		 ldi r24,lo8(159999)
 122 0018 90E7      	    ldi r25,hi8(159999)
 123 001a A2E0      	    ldi r26,hlo8(159999)
 124 001c 8150      	    1:subi r24,1
 125 001e 9040      	    sbci r25,0
 126 0020 A040      	    sbci r26,0
 127 0022 01F4      	    brne 1b
 128 0024 00C0      		rjmp .
 129 0026 0000      		nop
 130               	.LBE16:
 131               	.LBE15:
 132               	.LSM23:
 133 0028 8CE2      		ldi r24,lo8(44)
 134 002a 68E0      		ldi r22,lo8(8)
 135 002c 00C0      		rjmp .L11
 136               	.LVL1:
 137               	.L9:
 138               	.LSM24:
 139 002e 84E0      		ldi r24,lo8(4)
 140 0030 8093 0000 		sts keyboard_modifier_keys,r24
 141               	.LSM25:
 142 0034 1092 0000 		sts keyboard_keys,__zero_reg__
 143               	.LSM26:
 144 0038 0E94 0000 		call usb_keyboard_send
 145               	.LVL2:
 146               	.LBB17:
 147               	.LBB18:
 148               	.LSM27:
 149 003c 8FEF      		 ldi r24,lo8(159999)
 150 003e 90E7      	    ldi r25,hi8(159999)
 151 0040 A2E0      	    ldi r26,hlo8(159999)
 152 0042 8150      	    1:subi r24,1
 153 0044 9040      	    sbci r25,0
 154 0046 A040      	    sbci r26,0
 155 0048 01F4      	    brne 1b
 156 004a 00C0      		rjmp .
 157 004c 0000      		nop
 158               	.LBE18:
 159               	.LBE17:
 160               	.LSM28:
 161 004e 80E0      		ldi r24,lo8(0)
 162 0050 66E0      		ldi r22,lo8(6)
 163               	.LVL3:
 164               	.L11:
 165 0052 0E94 0000 		call usb_keyboard_press
 166 0056 0895      		ret
 167               	.LFE15:
 169               		.section	.text.init_ports,"ax",@progbits
 170               	.global	init_ports
 172               	init_ports:
 173               	.LFB7:
 174               	.LSM29:
 175               	/* prologue: function */
 176               	/* frame size = 0 */
 177               	/* stack size = 0 */
 178               	.L__stack_usage = 0
 179               	.LSM30:
 180 0000 8AE4      		ldi r24,lo8(74)
 181 0002 84B9      		out 36-32,r24
 182 0004 80E2      		ldi r24,lo8(32)
 183 0006 87B9      		out 39-32,r24
 184 0008 84E0      		ldi r24,lo8(4)
 185 000a 8AB9      		out 42-32,r24
 186               	.LSM31:
 187 000c 8FEF      		ldi r24,lo8(-1)
 188 000e 85B9      		out 37-32,r24
 189 0010 88B9      		out 40-32,r24
 190 0012 8BB9      		out 43-32,r24
 191               	/* epilogue start */
 192               	.LSM32:
 193 0014 0895      		ret
 194               	.LFE7:
 196               		.section	.text.init,"ax",@progbits
 197               	.global	init
 199               	init:
 200               	.LFB9:
 201               	.LSM33:
 202               	/* prologue: function */
 203               	/* frame size = 0 */
 204               	/* stack size = 0 */
 205               	.L__stack_usage = 0
 206               	.LSM34:
 207 0000 80E8      		ldi r24,lo8(-128)
 208 0002 8093 6100 		sts 97,r24
 209 0006 1092 6100 		sts 97,__zero_reg__
 210               	.LSM35:
 211 000a 0E94 0000 		call init_ports
 212               	.LSM36:
 213 000e 569A      		sbi 42-32,6
 214               	.LSM37:
 215 0010 3E9A      		sbi 39-32,6
 216               	.LSM38:
 217 0012 519A      		sbi 42-32,1
 218               	.LSM39:
 219 0014 469A      		sbi 40-32,6
 220               	.LSM40:
 221 0016 5998      		cbi 43-32,1
 222               	.LSM41:
 223 0018 8091 0000 		lds r24,led
 224 001c 8111      		cpse r24,__zero_reg__
 225               	.LSM42:
 226 001e 5E98      		cbi 43-32,6
 227               	.L14:
 228               	.LVL4:
 229 0020 E0E0      		ldi r30,lo8(pressed)
 230 0022 F0E0      		ldi r31,hi8(pressed)
 231               	.LVL5:
 232               	.L15:
 233               	.LBB19:
 234               	.LSM43:
 235 0024 1192      		st Z+,__zero_reg__
 236               	.LSM44:
 237 0026 80E0      		ldi r24,hi8(pressed+60)
 238 0028 E030      		cpi r30,lo8(pressed+60)
 239 002a F807      		cpc r31,r24
 240 002c 01F4      		brne .L15
 241               	.LBE19:
 242               	.LSM45:
 243 002e 0E94 0000 		call usb_init
 244               	.L16:
 245               	.LSM46:
 246 0032 0E94 0000 		call usb_configured
 247 0036 8823      		tst r24
 248 0038 01F0      		breq .L16
 249               	.LSM47:
 250 003a 5E9A      		sbi 43-32,6
 251               	.LSM48:
 252 003c 8091 0000 		lds r24,led
 253 0040 8111      		cpse r24,__zero_reg__
 254               	.LSM49:
 255 0042 4698      		cbi 40-32,6
 256               	.L17:
 257               	.LSM50:
 258 0044 8091 0000 		lds r24,keyboard_leds
 259 0048 8093 0000 		sts caps_lock_led,r24
 260               	/* epilogue start */
 261               	.LSM51:
 262 004c 0895      		ret
 263               	.LFE9:
 265               		.section	.text.get_code,"ax",@progbits
 266               	.global	get_code
 268               	get_code:
 269               	.LFB17:
 270               	.LSM52:
 271               	.LVL6:
 272               	/* prologue: function */
 273               	/* frame size = 0 */
 274               	/* stack size = 0 */
 275               	.L__stack_usage = 0
 276               	.LSM53:
 277 0000 8C33      		cpi r24,lo8(60)
 278 0002 00F4      		brsh .L24
 279               	.LSM54:
 280 0004 282F      		mov r18,r24
 281 0006 30E0      		ldi r19,lo8(0)
 282 0008 F901      		movw r30,r18
 283 000a E050      		subi r30,lo8(-(pressed))
 284 000c F040      		sbci r31,hi8(-(pressed))
 285 000e 9081      		ld r25,Z
 286 0010 9130      		cpi r25,lo8(1)
 287 0012 01F4      		brne .L22
 288               	.LVL7:
 289               	.LSM55:
 290 0014 2050      		subi r18,lo8(-(layer_fn))
 291 0016 3040      		sbci r19,hi8(-(layer_fn))
 292               	.LVL8:
 293 0018 F901      		movw r30,r18
 294 001a 8081      		ld r24,Z
 295               	.LVL9:
 296 001c 1816      		cp __zero_reg__,r24
 297 001e 04F0      		brlt .L21
 298               	.LSM56:
 299 0020 80E0      		ldi r24,lo8(0)
 300 0022 0895      		ret
 301               	.LVL10:
 302               	.L22:
 303               	.LSM57:
 304 0024 4091 0000 		lds r20,layout
 305 0028 5091 0000 		lds r21,layout+1
 306 002c F0E0      		ldi r31,hi8(layer_fn)
 307 002e 4030      		cpi r20,lo8(layer_fn)
 308 0030 5F07      		cpc r21,r31
 309 0032 01F0      		breq .L23
 310               	.LSM58:
 311 0034 9230      		cpi r25,lo8(2)
 312 0036 01F4      		brne .L23
 313               	.LSM59:
 314 0038 2050      		subi r18,lo8(-(layer1))
 315 003a 3040      		sbci r19,hi8(-(layer1))
 316               	.LVL11:
 317 003c F901      		movw r30,r18
 318 003e 00C0      		rjmp .L25
 319               	.L23:
 320               	.LSM60:
 321 0040 480F      		add r20,r24
 322 0042 511D      		adc r21,__zero_reg__
 323 0044 FA01      		movw r30,r20
 324               	.L25:
 325 0046 8081      		ld r24,Z
 326               	.LVL12:
 327 0048 0895      		ret
 328               	.LVL13:
 329               	.L24:
 330               	.LSM61:
 331 004a 80E0      		ldi r24,lo8(0)
 332               	.LVL14:
 333               	.L21:
 334               	.LSM62:
 335 004c 0895      		ret
 336               	.LFE17:
 338               		.section	.text.send,"ax",@progbits
 339               	.global	send
 341               	send:
 342               	.LFB16:
 343               	.LSM63:
 344 0000 0F93      		push r16
 345 0002 1F93      		push r17
 346 0004 CF93      		push r28
 347 0006 DF93      		push r29
 348               	/* prologue: function */
 349               	/* frame size = 0 */
 350               	/* stack size = 4 */
 351               	.L__stack_usage = 4
 352               	.LVL15:
 353               	.LSM64:
 354 0008 C0E0      		ldi r28,lo8(queue)
 355 000a D0E0      		ldi r29,hi8(queue)
 356 000c 00E0      		ldi r16,lo8(keyboard_keys)
 357 000e 10E0      		ldi r17,hi8(keyboard_keys)
 358               	.LVL16:
 359               	.L27:
 360               	.LSM65:
 361 0010 8991      		ld r24,Y+
 362 0012 0E94 0000 		call get_code
 363 0016 F801      		movw r30,r16
 364 0018 8193      		st Z+,r24
 365 001a 8F01      		movw r16,r30
 366               	.LSM66:
 367 001c F0E0      		ldi r31,hi8(queue+6)
 368 001e C030      		cpi r28,lo8(queue+6)
 369 0020 DF07      		cpc r29,r31
 370 0022 01F4      		brne .L27
 371               	.LSM67:
 372 0024 8091 0000 		lds r24,mod_keys
 373 0028 8093 0000 		sts keyboard_modifier_keys,r24
 374               	.LSM68:
 375 002c 0E94 0000 		call usb_keyboard_send
 376               	/* epilogue start */
 377               	.LSM69:
 378 0030 DF91      		pop r29
 379 0032 CF91      		pop r28
 380 0034 1F91      		pop r17
 381 0036 0F91      		pop r16
 382 0038 0895      		ret
 383               	.LFE16:
 385               		.section	.text.key_release,"ax",@progbits
 386               	.global	key_release
 388               	key_release:
 389               	.LFB14:
 390               	.LSM70:
 391               	.LVL17:
 392 0000 0F93      		push r16
 393 0002 1F93      		push r17
 394               	/* prologue: function */
 395               	/* frame size = 0 */
 396               	/* stack size = 2 */
 397               	.L__stack_usage = 2
 398 0004 082F      		mov r16,r24
 399               	.LSM71:
 400 0006 282F      		mov r18,r24
 401 0008 30E0      		ldi r19,lo8(0)
 402 000a F901      		movw r30,r18
 403 000c E050      		subi r30,lo8(-(pressed))
 404 000e F040      		sbci r31,hi8(-(pressed))
 405 0010 1081      		ld r17,Z
 406               	.LVL18:
 407               	.LSM72:
 408 0012 1130      		cpi r17,lo8(1)
 409 0014 01F4      		brne .L30
 410               	.LVL19:
 411               	.LSM73:
 412 0016 F901      		movw r30,r18
 413               	.LVL20:
 414 0018 E050      		subi r30,lo8(-(layer_fn))
 415 001a F040      		sbci r31,hi8(-(layer_fn))
 416 001c 00C0      		rjmp .L65
 417               	.L30:
 418               	.LSM74:
 419 001e E091 0000 		lds r30,layout
 420 0022 F091 0000 		lds r31,layout+1
 421 0026 E20F      		add r30,r18
 422 0028 F31F      		adc r31,r19
 423 002a 8081      		ld r24,Z
 424               	.LVL21:
 425               	.LSM75:
 426 002c 1630      		cpi r17,lo8(6)
 427 002e 01F4      		brne .L31
 428               	.LSM76:
 429 0030 4091 0000 		lds r20,prev_layer
 430 0034 5091 0000 		lds r21,prev_layer+1
 431 0038 4115      		cp r20,__zero_reg__
 432 003a 5105      		cpc r21,__zero_reg__
 433 003c 01F0      		breq .L31
 434               	.LSM77:
 435 003e 420F      		add r20,r18
 436 0040 531F      		adc r21,r19
 437 0042 FA01      		movw r30,r20
 438               	.LVL22:
 439               	.L65:
 440 0044 8081      		ld r24,Z
 441               	.LVL23:
 442               	.L31:
 443               	.LSM78:
 444 0046 2050      		subi r18,lo8(-(pressed))
 445 0048 3040      		sbci r19,hi8(-(pressed))
 446 004a F901      		movw r30,r18
 447 004c 1082      		st Z,__zero_reg__
 448               	.LSM79:
 449 004e 9091 0000 		lds r25,locked
 450 0052 9923      		tst r25
 451 0054 01F0      		breq .+2
 452 0056 00C0      		rjmp .L29
 453               	.LSM80:
 454 0058 8D36      		cpi r24,lo8(109)
 455 005a 00F4      		brsh .+2
 456 005c 00C0      		rjmp .L33
 457               	.LSM81:
 458 005e 8D37      		cpi r24,lo8(125)
 459 0060 01F4      		brne .L34
 460               	.LSM82:
 461 0062 1330      		cpi r17,lo8(3)
 462 0064 01F4      		brne .+2
 463 0066 00C0      		rjmp .L29
 464               	.LSM83:
 465 0068 8091 0000 		lds r24,mod_keys
 466               	.LVL24:
 467 006c 8B7F      		andi r24,lo8(-5)
 468 006e 8093 0000 		sts mod_keys,r24
 469 0072 00C0      		rjmp .L68
 470               	.LVL25:
 471               	.L34:
 472               	.LSM84:
 473 0074 8D36      		cpi r24,lo8(109)
 474 0076 01F0      		breq .+2
 475 0078 00C0      		rjmp .L35
 476 007a 9091 0000 		lds r25,mod_keys
 477               	.LSM85:
 478 007e 1530      		cpi r17,lo8(5)
 479 0080 01F4      		brne .L36
 480               	.LSM86:
 481 0082 9E7F      		andi r25,lo8(-2)
 482 0084 9093 0000 		sts mod_keys,r25
 483               	.LVL26:
 484               	.L68:
 485               	.LSM87:
 486 0088 0E94 0000 		call send
 487 008c 00C0      		rjmp .L29
 488               	.LVL27:
 489               	.L36:
 490               	.LSM88:
 491 008e 9D7F      		andi r25,lo8(-3)
 492 0090 9093 0000 		sts mod_keys,r25
 493               	.LSM89:
 494 0094 0E94 0000 		call send
 495               	.LVL28:
 496               	.LSM90:
 497 0098 8091 0000 		lds r24,last_key
 498 009c 8017      		cp r24,r16
 499 009e 01F0      		breq .+2
 500 00a0 00C0      		rjmp .L44
 501               	.LSM91:
 502 00a2 8091 0000 		lds r24,press_time
 503 00a6 9091 0000 		lds r25,press_time+1
 504 00aa 0097      		sbiw r24,0
 505 00ac 01F4      		brne .+2
 506 00ae 00C0      		rjmp .L44
 507 00b0 8233      		cpi r24,50
 508 00b2 9105      		cpc r25,__zero_reg__
 509 00b4 00F0      		brlo .+2
 510 00b6 00C0      		rjmp .L44
 511 00b8 1430      		cpi r17,lo8(4)
 512 00ba 01F4      		brne .+2
 513 00bc 00C0      		rjmp .L44
 514               	.LSM92:
 515 00be 2091 0000 		lds r18,layout
 516 00c2 3091 0000 		lds r19,layout+1
 517 00c6 F0E0      		ldi r31,hi8(layer1)
 518 00c8 2030      		cpi r18,lo8(layer1)
 519 00ca 3F07      		cpc r19,r31
 520 00cc 01F4      		brne .+2
 521 00ce 00C0      		rjmp .L44
 522 00d0 80E0      		ldi r24,lo8(layer1)
 523 00d2 90E0      		ldi r25,hi8(layer1)
 524               	.LBB20:
 525               	.LSM93:
 526 00d4 40E0      		ldi r20,hi8(layer_fn)
 527 00d6 2030      		cpi r18,lo8(layer_fn)
 528 00d8 3407      		cpc r19,r20
 529 00da 01F4      		brne .L38
 530               	.LSM94:
 531 00dc 9093 0000 		sts prev_layer+1,r25
 532 00e0 8093 0000 		sts prev_layer,r24
 533 00e4 00C0      		rjmp .L39
 534               	.L38:
 535               	.LSM95:
 536 00e6 9093 0000 		sts layout+1,r25
 537 00ea 8093 0000 		sts layout,r24
 538               	.L39:
 539               	.LSM96:
 540 00ee 0E94 0000 		call change_layout
 541               	.LSM97:
 542 00f2 469A      		sbi 40-32,6
 543               	.LSM98:
 544 00f4 8091 0000 		lds r24,led
 545 00f8 8823      		tst r24
 546 00fa 01F4      		brne .+2
 547 00fc 00C0      		rjmp .L44
 548               	.LSM99:
 549 00fe 599A      		sbi 43-32,1
 550 0100 00C0      		rjmp .L44
 551               	.LVL29:
 552               	.L35:
 553               	.LBE20:
 554               	.LSM100:
 555 0102 8E36      		cpi r24,lo8(110)
 556 0104 01F4      		brne .L40
 557               	.LSM101:
 558 0106 8091 0000 		lds r24,mod_keys
 559               	.LVL30:
 560 010a 8F7D      		andi r24,lo8(-33)
 561 010c 8093 0000 		sts mod_keys,r24
 562               	.LSM102:
 563 0110 0E94 0000 		call send
 564               	.LSM103:
 565 0114 8091 0000 		lds r24,last_key
 566 0118 8017      		cp r24,r16
 567 011a 01F0      		breq .+2
 568 011c 00C0      		rjmp .L44
 569               	.LSM104:
 570 011e 8091 0000 		lds r24,press_time
 571 0122 9091 0000 		lds r25,press_time+1
 572 0126 0097      		sbiw r24,0
 573 0128 01F4      		brne .+2
 574 012a 00C0      		rjmp .L44
 575 012c 8233      		cpi r24,50
 576 012e 9105      		cpc r25,__zero_reg__
 577 0130 00F0      		brlo .+2
 578 0132 00C0      		rjmp .L44
 579 0134 1430      		cpi r17,lo8(4)
 580 0136 01F4      		brne .+2
 581 0138 00C0      		rjmp .L44
 582               	.LSM105:
 583 013a 2091 0000 		lds r18,layout
 584 013e 3091 0000 		lds r19,layout+1
 585 0142 80E0      		ldi r24,hi8(layer2)
 586 0144 2030      		cpi r18,lo8(layer2)
 587 0146 3807      		cpc r19,r24
 588 0148 01F0      		breq .L44
 589 014a 80E0      		ldi r24,lo8(layer2)
 590 014c 90E0      		ldi r25,hi8(layer2)
 591               	.LBB21:
 592               	.LSM106:
 593 014e E0E0      		ldi r30,hi8(layer_fn)
 594 0150 2030      		cpi r18,lo8(layer_fn)
 595 0152 3E07      		cpc r19,r30
 596 0154 01F4      		brne .L42
 597               	.LSM107:
 598 0156 9093 0000 		sts prev_layer+1,r25
 599 015a 8093 0000 		sts prev_layer,r24
 600 015e 00C0      		rjmp .L43
 601               	.L42:
 602               	.LSM108:
 603 0160 9093 0000 		sts layout+1,r25
 604 0164 8093 0000 		sts layout,r24
 605               	.L43:
 606               	.LSM109:
 607 0168 0E94 0000 		call change_layout
 608               	.LSM110:
 609 016c 5998      		cbi 43-32,1
 610               	.LSM111:
 611 016e 8091 0000 		lds r24,led
 612 0172 8823      		tst r24
 613 0174 01F0      		breq .L44
 614               	.LSM112:
 615 0176 4698      		cbi 40-32,6
 616 0178 00C0      		rjmp .L44
 617               	.LVL31:
 618               	.L40:
 619               	.LBE21:
 620               	.LSM113:
 621 017a 8737      		cpi r24,lo8(119)
 622 017c 01F0      		breq .+2
 623 017e 00C0      		rjmp .L29
 624               	.LSM114:
 625 0180 8091 0000 		lds r24,mod_keys
 626               	.LVL32:
 627 0184 8D7F      		andi r24,lo8(-3)
 628 0186 8093 0000 		sts mod_keys,r24
 629               	.LSM115:
 630 018a 0E94 0000 		call send
 631               	.LSM116:
 632 018e 8091 0000 		lds r24,last_key
 633 0192 8017      		cp r24,r16
 634 0194 01F4      		brne .L44
 635               	.LSM117:
 636 0196 8091 0000 		lds r24,press_time
 637 019a 9091 0000 		lds r25,press_time+1
 638 019e 0097      		sbiw r24,0
 639 01a0 01F0      		breq .L44
 640 01a2 8233      		cpi r24,50
 641 01a4 9105      		cpc r25,__zero_reg__
 642 01a6 00F4      		brsh .L44
 643 01a8 1230      		cpi r17,lo8(2)
 644 01aa 01F0      		breq .L44
 645 01ac 8091 0000 		lds r24,mod_keys
 646 01b0 8823      		tst r24
 647 01b2 01F4      		brne .L44
 648               	.LSM118:
 649 01b4 8CE2      		ldi r24,lo8(44)
 650 01b6 60E0      		ldi r22,lo8(0)
 651 01b8 0E94 0000 		call usb_keyboard_press
 652               	.L44:
 653               	.LSM119:
 654 01bc 8FEF      		ldi r24,lo8(-1)
 655 01be 8093 0000 		sts last_key,r24
 656 01c2 00C0      		rjmp .L62
 657               	.LVL33:
 658               	.L33:
 659               	.LSM120:
 660 01c4 8536      		cpi r24,lo8(101)
 661 01c6 00F4      		brsh .+2
 662 01c8 00C0      		rjmp .L45
 663               	.LSM121:
 664 01ca 9091 0000 		lds r25,os_mode
 665 01ce 9230      		cpi r25,lo8(2)
 666 01d0 01F4      		brne .L46
 667               	.LSM122:
 668 01d2 8536      		cpi r24,lo8(101)
 669 01d4 01F0      		breq .L70
 670               	.L47:
 671               	.LSM123:
 672 01d6 8936      		cpi r24,lo8(105)
 673 01d8 01F0      		breq .L49
 674               	.L46:
 675               	.LSM124:
 676 01da 8C36      		cpi r24,lo8(108)
 677 01dc 01F4      		brne .L50
 678               	.L49:
 679               	.LSM125:
 680 01de 8091 0000 		lds r24,mod_keys
 681               	.LVL34:
 682 01e2 8F77      		andi r24,lo8(127)
 683               	.L66:
 684 01e4 8093 0000 		sts mod_keys,r24
 685 01e8 00C0      		rjmp .L48
 686               	.LVL35:
 687               	.L50:
 688               	.LSM126:
 689 01ea 8536      		cpi r24,lo8(101)
 690 01ec 01F4      		brne .L51
 691               	.LSM127:
 692 01ee 8091 0000 		lds r24,mod_keys
 693               	.LVL36:
 694 01f2 8E7F      		andi r24,lo8(-2)
 695 01f4 00C0      		rjmp .L66
 696               	.LVL37:
 697               	.L51:
 698               	.LSM128:
 699 01f6 8636      		cpi r24,lo8(102)
 700 01f8 01F4      		brne .L52
 701               	.LSM129:
 702 01fa 8091 0000 		lds r24,mod_keys
 703               	.LVL38:
 704 01fe 8D7F      		andi r24,lo8(-3)
 705 0200 00C0      		rjmp .L66
 706               	.LVL39:
 707               	.L52:
 708               	.LSM130:
 709 0202 8736      		cpi r24,lo8(103)
 710 0204 01F4      		brne .L53
 711               	.LSM131:
 712 0206 8091 0000 		lds r24,mod_keys
 713               	.LVL40:
 714 020a 8B7F      		andi r24,lo8(-5)
 715 020c 00C0      		rjmp .L66
 716               	.LVL41:
 717               	.L53:
 718               	.LSM132:
 719 020e 8836      		cpi r24,lo8(104)
 720 0210 01F4      		brne .L54
 721               	.L70:
 722               	.LSM133:
 723 0212 8091 0000 		lds r24,mod_keys
 724               	.LVL42:
 725 0216 877F      		andi r24,lo8(-9)
 726 0218 00C0      		rjmp .L66
 727               	.LVL43:
 728               	.L54:
 729               	.LSM134:
 730 021a 8936      		cpi r24,lo8(105)
 731 021c 01F4      		brne .L55
 732               	.LSM135:
 733 021e 8091 0000 		lds r24,mod_keys
 734               	.LVL44:
 735 0222 8F7E      		andi r24,lo8(-17)
 736 0224 00C0      		rjmp .L66
 737               	.LVL45:
 738               	.L55:
 739 0226 9091 0000 		lds r25,mod_keys
 740               	.LSM136:
 741 022a 8A36      		cpi r24,lo8(106)
 742 022c 01F4      		brne .L56
 743               	.LSM137:
 744 022e 9F7D      		andi r25,lo8(-33)
 745 0230 00C0      		rjmp .L67
 746               	.L56:
 747               	.LSM138:
 748 0232 9F7B      		andi r25,lo8(-65)
 749               	.L67:
 750 0234 9093 0000 		sts mod_keys,r25
 751               	.LVL46:
 752               	.L48:
 753               	.LSM139:
 754 0238 0E94 0000 		call send
 755               	.LSM140:
 756 023c 1092 0000 		sts press_time+1,__zero_reg__
 757 0240 1092 0000 		sts press_time,__zero_reg__
 758               	.LSM141:
 759 0244 1092 0000 		sts press_time2+1,__zero_reg__
 760 0248 1092 0000 		sts press_time2,__zero_reg__
 761               	.LSM142:
 762 024c 1092 0000 		sts release_time+1,__zero_reg__
 763 0250 1092 0000 		sts release_time,__zero_reg__
 764               	.LSM143:
 765 0254 1092 0000 		sts repeat_time+1,__zero_reg__
 766 0258 1092 0000 		sts repeat_time,__zero_reg__
 767               	.LSM144:
 768 025c 1092 0000 		sts last_key,__zero_reg__
 769 0260 00C0      		rjmp .L29
 770               	.LVL47:
 771               	.L45:
 772 0262 E0E0      		ldi r30,lo8(queue)
 773 0264 F0E0      		ldi r31,hi8(queue)
 774               	.LSM145:
 775 0266 80E0      		ldi r24,lo8(0)
 776               	.LVL48:
 777               	.L59:
 778               	.LSM146:
 779 0268 9191      		ld r25,Z+
 780 026a 9017      		cp r25,r16
 781 026c 01F0      		breq .L64
 782               	.LSM147:
 783 026e 8F5F      		subi r24,lo8(-(1))
 784               	.LVL49:
 785 0270 8630      		cpi r24,lo8(6)
 786 0272 01F4      		brne .L59
 787 0274 00C0      		rjmp .L64
 788               	.L61:
 789               	.LSM148:
 790 0276 E82F      		mov r30,r24
 791 0278 F0E0      		ldi r31,lo8(0)
 792 027a E050      		subi r30,lo8(-(queue))
 793 027c F040      		sbci r31,hi8(-(queue))
 794 027e 9181      		ldd r25,Z+1
 795 0280 9083      		st Z,r25
 796               	.LSM149:
 797 0282 8F5F      		subi r24,lo8(-(1))
 798               	.LVL50:
 799               	.L64:
 800               	.LSM150:
 801 0284 8630      		cpi r24,lo8(6)
 802 0286 00F0      		brlo .L61
 803               	.LSM151:
 804 0288 0E94 0000 		call send
 805               	.LVL51:
 806               	.LSM152:
 807 028c 8091 0000 		lds r24,last_key
 808 0290 8017      		cp r24,r16
 809 0292 01F4      		brne .L62
 810               	.LSM153:
 811 0294 1092 0000 		sts press_time2+1,__zero_reg__
 812 0298 1092 0000 		sts press_time2,__zero_reg__
 813               	.LSM154:
 814 029c 81E0      		ldi r24,lo8(1)
 815 029e 90E0      		ldi r25,hi8(1)
 816 02a0 9093 0000 		sts release_time+1,r25
 817 02a4 8093 0000 		sts release_time,r24
 818 02a8 00C0      		rjmp .L69
 819               	.L62:
 820               	.LSM155:
 821 02aa 1092 0000 		sts press_time+1,__zero_reg__
 822 02ae 1092 0000 		sts press_time,__zero_reg__
 823               	.LSM156:
 824 02b2 1092 0000 		sts press_time2+1,__zero_reg__
 825 02b6 1092 0000 		sts press_time2,__zero_reg__
 826               	.LSM157:
 827 02ba 1092 0000 		sts release_time+1,__zero_reg__
 828 02be 1092 0000 		sts release_time,__zero_reg__
 829               	.L69:
 830               	.LSM158:
 831 02c2 1092 0000 		sts repeat_time+1,__zero_reg__
 832 02c6 1092 0000 		sts repeat_time,__zero_reg__
 833               	.L29:
 834               	/* epilogue start */
 835               	.LSM159:
 836 02ca 1F91      		pop r17
 837               	.LVL52:
 838 02cc 0F91      		pop r16
 839               	.LVL53:
 840 02ce 0895      		ret
 841               	.LFE14:
 843               		.section	.text.key_press,"ax",@progbits
 844               	.global	key_press
 846               	key_press:
 847               	.LFB13:
 848               	.LSM160:
 849               	.LVL54:
 850 0000 1F93      		push r17
 851               	/* prologue: function */
 852               	/* frame size = 0 */
 853               	/* stack size = 1 */
 854               	.L__stack_usage = 1
 855 0002 182F      		mov r17,r24
 856               	.LSM161:
 857 0004 7091 0000 		lds r23,mod_keys
 858 0008 972F      		mov r25,r23
 859 000a 9D7D      		andi r25,lo8(-35)
 860               	.LVL55:
 861               	.LSM162:
 862 000c 282F      		mov r18,r24
 863 000e 30E0      		ldi r19,lo8(0)
 864 0010 8091 0000 		lds r24,pressed+39
 865               	.LVL56:
 866 0014 8823      		tst r24
 867 0016 01F4      		brne .L119
 868               	.LSM163:
 869 0018 9923      		tst r25
 870 001a 01F0      		breq .L120
 871               	.LSM164:
 872 001c 82E0      		ldi r24,lo8(2)
 873 001e 00C0      		rjmp .L72
 874               	.L119:
 875 0020 81E0      		ldi r24,lo8(1)
 876 0022 00C0      		rjmp .L72
 877               	.L120:
 878 0024 8FEF      		ldi r24,lo8(-1)
 879               	.L72:
 880               	.LSM165:
 881 0026 F901      		movw r30,r18
 882 0028 E050      		subi r30,lo8(-(pressed))
 883 002a F040      		sbci r31,hi8(-(pressed))
 884 002c 8083      		st Z,r24
 885               	.LSM166:
 886 002e 8130      		cpi r24,lo8(1)
 887 0030 01F4      		brne .L73
 888               	.LSM167:
 889 0032 F901      		movw r30,r18
 890 0034 E050      		subi r30,lo8(-(layer_fn))
 891 0036 F040      		sbci r31,hi8(-(layer_fn))
 892 0038 00C0      		rjmp .L122
 893               	.L73:
 894               	.LSM168:
 895 003a E091 0000 		lds r30,layout
 896 003e F091 0000 		lds r31,layout+1
 897 0042 E10F      		add r30,r17
 898 0044 F11D      		adc r31,__zero_reg__
 899               	.L122:
 900 0046 6081      		ld r22,Z
 901               	.LVL57:
 902               	.LSM169:
 903 0048 6623      		tst r22
 904 004a 01F4      		brne .L75
 905               	.LSM170:
 906 004c 412F      		mov r20,r17
 907 004e 50E0      		ldi r21,lo8(0)
 908 0050 E091 0000 		lds r30,layout
 909 0054 F091 0000 		lds r31,layout+1
 910               	.LVL58:
 911 0058 E40F      		add r30,r20
 912 005a F51F      		adc r31,r21
 913 005c 6081      		ld r22,Z
 914               	.LVL59:
 915               	.LSM171:
 916 005e 9923      		tst r25
 917 0060 01F0      		breq .L121
 918 0062 82E0      		ldi r24,lo8(2)
 919 0064 00C0      		rjmp .L76
 920               	.L121:
 921 0066 8FEF      		ldi r24,lo8(-1)
 922               	.L76:
 923               	.LSM172:
 924 0068 F901      		movw r30,r18
 925               	.LVL60:
 926 006a E050      		subi r30,lo8(-(pressed))
 927 006c F040      		sbci r31,hi8(-(pressed))
 928 006e 8083      		st Z,r24
 929               	.LSM173:
 930 0070 6623      		tst r22
 931 0072 01F4      		brne .L75
 932               	.LSM174:
 933 0074 8091 0000 		lds r24,prev_layer
 934 0078 9091 0000 		lds r25,prev_layer+1
 935 007c 0097      		sbiw r24,0
 936 007e 01F0      		breq .L75
 937 0080 7723      		tst r23
 938 0082 01F4      		brne .L75
 939               	.LSM175:
 940 0084 480F      		add r20,r24
 941 0086 591F      		adc r21,r25
 942 0088 DA01      		movw r26,r20
 943 008a 6C91      		ld r22,X
 944               	.LVL61:
 945               	.LSM176:
 946 008c 86E0      		ldi r24,lo8(6)
 947 008e 8083      		st Z,r24
 948               	.LVL62:
 949               	.L75:
 950               	.LSM177:
 951 0090 8091 0000 		lds r24,locked
 952 0094 8823      		tst r24
 953 0096 01F0      		breq .L77
 954               	.LSM178:
 955 0098 6A37      		cpi r22,lo8(122)
 956 009a 01F0      		breq .+2
 957 009c 00C0      		rjmp .L71
 958 009e 00C0      		rjmp .L79
 959               	.L77:
 960               	.LSM179:
 961 00a0 6D36      		cpi r22,lo8(109)
 962 00a2 00F4      		brsh .+2
 963 00a4 00C0      		rjmp .L80
 964               	.LSM180:
 965 00a6 6D37      		cpi r22,lo8(125)
 966 00a8 01F4      		brne .L81
 967               	.LSM181:
 968 00aa F901      		movw r30,r18
 969 00ac E050      		subi r30,lo8(-(pressed))
 970 00ae F040      		sbci r31,hi8(-(pressed))
 971 00b0 8081      		ld r24,Z
 972 00b2 8130      		cpi r24,lo8(1)
 973 00b4 01F4      		brne .L82
 974               	.LSM182:
 975 00b6 8BE2      		ldi r24,lo8(43)
 976 00b8 64E0      		ldi r22,lo8(4)
 977               	.LVL63:
 978 00ba 00C0      		rjmp .L124
 979               	.LVL64:
 980               	.L82:
 981               	.LSM183:
 982 00bc 8091 0000 		lds r24,mod_keys
 983 00c0 8823      		tst r24
 984 00c2 01F4      		brne .L84
 985               	.LSM184:
 986 00c4 84E0      		ldi r24,lo8(4)
 987 00c6 8093 0000 		sts mod_keys,r24
 988 00ca 00C0      		rjmp .L85
 989               	.L84:
 990               	.LSM185:
 991 00cc 83E0      		ldi r24,lo8(3)
 992 00ce 8083      		st Z,r24
 993               	.L85:
 994               	.LSM186:
 995 00d0 8091 0000 		lds r24,mod_keys
 996 00d4 8093 0000 		sts keyboard_modifier_keys,r24
 997               	.LSM187:
 998 00d8 8BE2      		ldi r24,lo8(43)
 999 00da 8093 0000 		sts keyboard_keys,r24
 1000               	.LSM188:
 1001 00de 0E94 0000 		call usb_keyboard_send
 1002               	.LVL65:
 1003               	.LBB22:
 1004               	.LBB23:
 1005               	.LSM189:
 1006 00e2 8FEF      		 ldi r24,lo8(159999)
 1007 00e4 90E7      	    ldi r25,hi8(159999)
 1008 00e6 A2E0      	    ldi r26,hlo8(159999)
 1009 00e8 8150      	    1:subi r24,1
 1010 00ea 9040      	    sbci r25,0
 1011 00ec A040      	    sbci r26,0
 1012 00ee 01F4      	    brne 1b
 1013 00f0 00C0      		rjmp .
 1014 00f2 0000      		nop
 1015 00f4 00C0      		rjmp .L125
 1016               	.LVL66:
 1017               	.L81:
 1018               	.LBE23:
 1019               	.LBE22:
 1020               	.LSM190:
 1021 00f6 6E37      		cpi r22,lo8(126)
 1022 00f8 01F4      		brne .L86
 1023               	.LSM191:
 1024 00fa 2050      		subi r18,lo8(-(pressed))
 1025 00fc 3040      		sbci r19,hi8(-(pressed))
 1026 00fe D901      		movw r26,r18
 1027 0100 8C91      		ld r24,X
 1028 0102 8130      		cpi r24,lo8(1)
 1029 0104 01F0      		breq .+2
 1030 0106 00C0      		rjmp .L83
 1031               	.LSM192:
 1032 0108 8091 0000 		lds r24,mod_keys
 1033 010c 8272      		andi r24,lo8(34)
 1034 010e 01F4      		brne .+2
 1035 0110 00C0      		rjmp .L83
 1036               	.LSM193:
 1037 0112 2091 0000 		lds r18,prev_layer
 1038 0116 3091 0000 		lds r19,prev_layer+1
 1039 011a 2115      		cp r18,__zero_reg__
 1040 011c 3105      		cpc r19,__zero_reg__
 1041 011e 01F0      		breq .L87
 1042               	.LSM194:
 1043 0120 3093 0000 		sts layout+1,r19
 1044 0124 2093 0000 		sts layout,r18
 1045               	.LSM195:
 1046 0128 1092 0000 		sts prev_layer+1,__zero_reg__
 1047 012c 1092 0000 		sts prev_layer,__zero_reg__
 1048 0130 00C0      		rjmp .L83
 1049               	.L87:
 1050               	.LSM196:
 1051 0132 8091 0000 		lds r24,layout
 1052 0136 9091 0000 		lds r25,layout+1
 1053 013a 9093 0000 		sts prev_layer+1,r25
 1054 013e 8093 0000 		sts prev_layer,r24
 1055               	.LSM197:
 1056 0142 80E0      		ldi r24,lo8(layer_fnlock)
 1057 0144 90E0      		ldi r25,hi8(layer_fnlock)
 1058 0146 9093 0000 		sts layout+1,r25
 1059 014a 8093 0000 		sts layout,r24
 1060 014e 00C0      		rjmp .L83
 1061               	.L86:
 1062               	.LSM198:
 1063 0150 6C37      		cpi r22,lo8(124)
 1064 0152 01F4      		brne .L79
 1065               	.LSM199:
 1066 0154 2050      		subi r18,lo8(-(pressed))
 1067 0156 3040      		sbci r19,hi8(-(pressed))
 1068 0158 F901      		movw r30,r18
 1069 015a 8081      		ld r24,Z
 1070 015c 8130      		cpi r24,lo8(1)
 1071 015e 01F4      		brne .L88
 1072               	.LSM200:
 1073 0160 8091 0000 		lds r24,mod_keys
 1074 0164 8272      		andi r24,lo8(34)
 1075 0166 01F0      		breq .L88
 1076               	.LSM201:
 1077 0168 8091 0000 		lds r24,os_mode
 1078 016c 8F5F      		subi r24,lo8(-(1))
 1079 016e 8093 0000 		sts os_mode,r24
 1080               	.LSM202:
 1081 0172 8330      		cpi r24,lo8(3)
 1082 0174 00F4      		brsh .+2
 1083 0176 00C0      		rjmp .L83
 1084               	.LSM203:
 1085 0178 1092 0000 		sts os_mode,__zero_reg__
 1086 017c 00C0      		rjmp .L83
 1087               	.L88:
 1088               	.LSM204:
 1089 017e 8CE2      		ldi r24,lo8(44)
 1090 0180 6091 0000 		lds r22,mod_keys
 1091               	.LVL67:
 1092               	.L124:
 1093 0184 0E94 0000 		call usb_keyboard_press
 1094               	.LVL68:
 1095 0188 00C0      		rjmp .L83
 1096               	.LVL69:
 1097               	.L79:
 1098               	.LSM205:
 1099 018a 6D36      		cpi r22,lo8(109)
 1100 018c 01F4      		brne .L89
 1101               	.LSM206:
 1102 018e 8091 0000 		lds r24,mod_keys
 1103 0192 982F      		mov r25,r24
 1104               	.LVL70:
 1105 0194 9272      		andi r25,lo8(34)
 1106 0196 01F0      		breq .L90
 1107               	.LSM207:
 1108 0198 2050      		subi r18,lo8(-(pressed))
 1109 019a 3040      		sbci r19,hi8(-(pressed))
 1110 019c 95E0      		ldi r25,lo8(5)
 1111 019e D901      		movw r26,r18
 1112 01a0 9C93      		st X,r25
 1113               	.LSM208:
 1114 01a2 8160      		ori r24,lo8(1)
 1115 01a4 00C0      		rjmp .L128
 1116               	.L90:
 1117               	.LSM209:
 1118 01a6 8823      		tst r24
 1119 01a8 01F0      		breq .L129
 1120               	.LSM210:
 1121 01aa 2050      		subi r18,lo8(-(pressed))
 1122 01ac 3040      		sbci r19,hi8(-(pressed))
 1123 01ae 94E0      		ldi r25,lo8(4)
 1124 01b0 F901      		movw r30,r18
 1125 01b2 9083      		st Z,r25
 1126 01b4 00C0      		rjmp .L129
 1127               	.LVL71:
 1128               	.L89:
 1129               	.LSM211:
 1130 01b6 6E36      		cpi r22,lo8(110)
 1131 01b8 01F4      		brne .L92
 1132               	.LSM212:
 1133 01ba 8091 0000 		lds r24,mod_keys
 1134 01be 8062      		ori r24,lo8(32)
 1135 01c0 00C0      		rjmp .L128
 1136               	.L92:
 1137               	.LSM213:
 1138 01c2 6B37      		cpi r22,lo8(123)
 1139 01c4 01F4      		brne .L93
 1140               	.LSM214:
 1141 01c6 81E0      		ldi r24,lo8(1)
 1142 01c8 9091 0000 		lds r25,turbo_repeat
 1143               	.LVL72:
 1144 01cc 9111      		cpse r25,__zero_reg__
 1145 01ce 80E0      		ldi r24,lo8(0)
 1146               	.L94:
 1147 01d0 8093 0000 		sts turbo_repeat,r24
 1148 01d4 00C0      		rjmp .L83
 1149               	.LVL73:
 1150               	.L93:
 1151               	.LSM215:
 1152 01d6 6737      		cpi r22,lo8(119)
 1153 01d8 01F4      		brne .L95
 1154               	.LSM216:
 1155 01da 8091 0000 		lds r24,mod_keys
 1156               	.LVL74:
 1157               	.L129:
 1158 01de 8260      		ori r24,lo8(2)
 1159               	.L128:
 1160 01e0 8093 0000 		sts mod_keys,r24
 1161 01e4 00C0      		rjmp .L125
 1162               	.LVL75:
 1163               	.L95:
 1164               	.LSM217:
 1165 01e6 6F36      		cpi r22,lo8(111)
 1166 01e8 01F4      		brne .+2
 1167 01ea 00C0      		rjmp .L83
 1168               	.LSM218:
 1169 01ec 6A37      		cpi r22,lo8(122)
 1170 01ee 01F4      		brne .L96
 1171               	.LSM219:
 1172 01f0 8823      		tst r24
 1173 01f2 01F0      		breq .L97
 1174               	.LSM220:
 1175 01f4 1092 0000 		sts locked,__zero_reg__
 1176               	.LSM221:
 1177 01f8 8091 0000 		lds r24,led
 1178 01fc 8823      		tst r24
 1179 01fe 01F4      		brne .+2
 1180 0200 00C0      		rjmp .L83
 1181               	.LSM222:
 1182 0202 8091 0000 		lds r24,layout
 1183 0206 9091 0000 		lds r25,layout+1
 1184 020a F0E0      		ldi r31,hi8(layer1)
 1185 020c 8030      		cpi r24,lo8(layer1)
 1186 020e 9F07      		cpc r25,r31
 1187 0210 01F0      		breq .L98
 1188               	.LSM223:
 1189 0212 8091 0000 		lds r24,prev_layer
 1190 0216 9091 0000 		lds r25,prev_layer+1
 1191 021a 20E0      		ldi r18,hi8(layer1)
 1192 021c 8030      		cpi r24,lo8(layer1)
 1193 021e 9207      		cpc r25,r18
 1194 0220 01F4      		brne .L99
 1195               	.L98:
 1196               	.LSM224:
 1197 0222 599A      		sbi 43-32,1
 1198               	.L99:
 1199               	.LSM225:
 1200 0224 8091 0000 		lds r24,layout
 1201 0228 9091 0000 		lds r25,layout+1
 1202 022c A0E0      		ldi r26,hi8(layer2)
 1203 022e 8030      		cpi r24,lo8(layer2)
 1204 0230 9A07      		cpc r25,r26
 1205 0232 01F4      		brne .+2
 1206 0234 00C0      		rjmp .L104
 1207               	.LSM226:
 1208 0236 8091 0000 		lds r24,prev_layer
 1209 023a 9091 0000 		lds r25,prev_layer+1
 1210 023e B0E0      		ldi r27,hi8(layer2)
 1211 0240 8030      		cpi r24,lo8(layer2)
 1212 0242 9B07      		cpc r25,r27
 1213 0244 01F0      		breq .+2
 1214 0246 00C0      		rjmp .L83
 1215 0248 00C0      		rjmp .L104
 1216               	.L97:
 1217               	.LSM227:
 1218 024a 81E0      		ldi r24,lo8(1)
 1219 024c 8093 0000 		sts locked,r24
 1220               	.LSM228:
 1221 0250 5E9A      		sbi 43-32,6
 1222               	.LSM229:
 1223 0252 469A      		sbi 40-32,6
 1224               	.LSM230:
 1225 0254 5998      		cbi 43-32,1
 1226               	.LSM231:
 1227 0256 8FE0      		ldi r24,lo8(15)
 1228 0258 68E0      		ldi r22,lo8(8)
 1229               	.LVL76:
 1230 025a 00C0      		rjmp .L124
 1231               	.LVL77:
 1232               	.L96:
 1233               	.LSM232:
 1234 025c 6937      		cpi r22,lo8(121)
 1235 025e 01F0      		breq .+2
 1236 0260 00C0      		rjmp .L83
 1237               	.LSM233:
 1238 0262 8091 0000 		lds r24,mod_keys
 1239 0266 8272      		andi r24,lo8(34)
 1240 0268 01F4      		brne .+2
 1241 026a 00C0      		rjmp .L83
 1242               	.LSM234:
 1243 026c 8091 0000 		lds r24,led
 1244 0270 8823      		tst r24
 1245 0272 01F0      		breq .L101
 1246               	.LSM235:
 1247 0274 1092 0000 		sts led,__zero_reg__
 1248               	.LSM236:
 1249 0278 5E9A      		sbi 43-32,6
 1250               	.LSM237:
 1251 027a 469A      		sbi 40-32,6
 1252               	.LSM238:
 1253 027c 5998      		cbi 43-32,1
 1254 027e 00C0      		rjmp .L83
 1255               	.L101:
 1256               	.LSM239:
 1257 0280 81E0      		ldi r24,lo8(1)
 1258 0282 8093 0000 		sts led,r24
 1259               	.LSM240:
 1260 0286 8091 0000 		lds r24,layout
 1261 028a 9091 0000 		lds r25,layout+1
 1262 028e E0E0      		ldi r30,hi8(layer1)
 1263 0290 8030      		cpi r24,lo8(layer1)
 1264 0292 9E07      		cpc r25,r30
 1265 0294 01F0      		breq .L102
 1266               	.LSM241:
 1267 0296 8091 0000 		lds r24,prev_layer
 1268 029a 9091 0000 		lds r25,prev_layer+1
 1269 029e F0E0      		ldi r31,hi8(layer1)
 1270 02a0 8030      		cpi r24,lo8(layer1)
 1271 02a2 9F07      		cpc r25,r31
 1272 02a4 01F4      		brne .L103
 1273               	.L102:
 1274               	.LSM242:
 1275 02a6 599A      		sbi 43-32,1
 1276               	.L103:
 1277               	.LSM243:
 1278 02a8 8091 0000 		lds r24,layout
 1279 02ac 9091 0000 		lds r25,layout+1
 1280 02b0 20E0      		ldi r18,hi8(layer2)
 1281 02b2 8030      		cpi r24,lo8(layer2)
 1282 02b4 9207      		cpc r25,r18
 1283 02b6 01F0      		breq .L104
 1284               	.LSM244:
 1285 02b8 8091 0000 		lds r24,prev_layer
 1286 02bc 9091 0000 		lds r25,prev_layer+1
 1287 02c0 A0E0      		ldi r26,hi8(layer2)
 1288 02c2 8030      		cpi r24,lo8(layer2)
 1289 02c4 9A07      		cpc r25,r26
 1290 02c6 01F0      		breq .+2
 1291 02c8 00C0      		rjmp .L83
 1292               	.L104:
 1293               	.LSM245:
 1294 02ca 4698      		cbi 40-32,6
 1295 02cc 00C0      		rjmp .L83
 1296               	.L80:
 1297               	.LSM246:
 1298 02ce 6536      		cpi r22,lo8(101)
 1299 02d0 00F4      		brsh .+2
 1300 02d2 00C0      		rjmp .L105
 1301               	.LSM247:
 1302 02d4 8091 0000 		lds r24,os_mode
 1303 02d8 8230      		cpi r24,lo8(2)
 1304 02da 01F4      		brne .L106
 1305               	.LSM248:
 1306 02dc 6536      		cpi r22,lo8(101)
 1307 02de 01F0      		breq .L127
 1308               	.L107:
 1309               	.LSM249:
 1310 02e0 6936      		cpi r22,lo8(105)
 1311 02e2 01F0      		breq .L109
 1312               	.L106:
 1313               	.LSM250:
 1314 02e4 6C36      		cpi r22,lo8(108)
 1315 02e6 01F4      		brne .L110
 1316               	.L109:
 1317               	.LSM251:
 1318 02e8 8091 0000 		lds r24,mod_keys
 1319 02ec 8068      		ori r24,lo8(-128)
 1320 02ee 00C0      		rjmp .L123
 1321               	.L110:
 1322               	.LSM252:
 1323 02f0 6536      		cpi r22,lo8(101)
 1324 02f2 01F4      		brne .L111
 1325               	.LSM253:
 1326 02f4 8091 0000 		lds r24,mod_keys
 1327 02f8 8160      		ori r24,lo8(1)
 1328 02fa 00C0      		rjmp .L123
 1329               	.L111:
 1330               	.LSM254:
 1331 02fc 6636      		cpi r22,lo8(102)
 1332 02fe 01F4      		brne .L112
 1333               	.LSM255:
 1334 0300 8091 0000 		lds r24,mod_keys
 1335 0304 8260      		ori r24,lo8(2)
 1336 0306 00C0      		rjmp .L123
 1337               	.L112:
 1338               	.LSM256:
 1339 0308 6736      		cpi r22,lo8(103)
 1340 030a 01F4      		brne .L113
 1341               	.LSM257:
 1342 030c 8091 0000 		lds r24,mod_keys
 1343 0310 8460      		ori r24,lo8(4)
 1344 0312 00C0      		rjmp .L123
 1345               	.L113:
 1346               	.LSM258:
 1347 0314 6836      		cpi r22,lo8(104)
 1348 0316 01F4      		brne .L114
 1349               	.L127:
 1350               	.LSM259:
 1351 0318 8091 0000 		lds r24,mod_keys
 1352 031c 8860      		ori r24,lo8(8)
 1353 031e 00C0      		rjmp .L123
 1354               	.L114:
 1355               	.LSM260:
 1356 0320 6936      		cpi r22,lo8(105)
 1357 0322 01F4      		brne .L115
 1358               	.LSM261:
 1359 0324 8091 0000 		lds r24,mod_keys
 1360 0328 8061      		ori r24,lo8(16)
 1361 032a 00C0      		rjmp .L123
 1362               	.L115:
 1363 032c 8091 0000 		lds r24,mod_keys
 1364               	.LSM262:
 1365 0330 6A36      		cpi r22,lo8(106)
 1366 0332 01F4      		brne .L116
 1367               	.LSM263:
 1368 0334 8062      		ori r24,lo8(32)
 1369 0336 00C0      		rjmp .L123
 1370               	.L116:
 1371               	.LSM264:
 1372 0338 8064      		ori r24,lo8(64)
 1373               	.L123:
 1374 033a 8093 0000 		sts mod_keys,r24
 1375               	.LSM265:
 1376 033e 0E94 0000 		call send
 1377               	.LVL78:
 1378               	.LSM266:
 1379 0342 1092 0000 		sts press_time+1,__zero_reg__
 1380 0346 1092 0000 		sts press_time,__zero_reg__
 1381               	.LSM267:
 1382 034a 1092 0000 		sts release_time+1,__zero_reg__
 1383 034e 1092 0000 		sts release_time,__zero_reg__
 1384               	.LSM268:
 1385 0352 1092 0000 		sts last_key,__zero_reg__
 1386 0356 00C0      		rjmp .L83
 1387               	.LVL79:
 1388               	.L105:
 1389               	.LSM269:
 1390 0358 8091 0000 		lds r24,last_key
 1391 035c 8117      		cp r24,r17
 1392 035e 01F4      		brne .L117
 1393               	.LSM270:
 1394 0360 8091 0000 		lds r24,release_time
 1395 0364 9091 0000 		lds r25,release_time+1
 1396 0368 8A30      		cpi r24,10
 1397 036a 9105      		cpc r25,__zero_reg__
 1398 036c 00F0      		brlo .L83
 1399               	.L117:
 1400               	.LVL80:
 1401               	.LSM271:
 1402 036e 8091 0000 		lds r24,queue+4
 1403 0372 8093 0000 		sts queue+5,r24
 1404               	.LVL81:
 1405 0376 8091 0000 		lds r24,queue+3
 1406 037a 8093 0000 		sts queue+4,r24
 1407               	.LVL82:
 1408 037e 8091 0000 		lds r24,queue+2
 1409 0382 8093 0000 		sts queue+3,r24
 1410               	.LVL83:
 1411 0386 8091 0000 		lds r24,queue+1
 1412 038a 8093 0000 		sts queue+2,r24
 1413               	.LVL84:
 1414 038e 8091 0000 		lds r24,queue
 1415 0392 8093 0000 		sts queue+1,r24
 1416               	.LVL85:
 1417               	.LSM272:
 1418 0396 1093 0000 		sts queue,r17
 1419               	.LVL86:
 1420               	.L125:
 1421               	.LSM273:
 1422 039a 0E94 0000 		call send
 1423               	.L83:
 1424               	.LSM274:
 1425 039e 8091 0000 		lds r24,last_key
 1426 03a2 8117      		cp r24,r17
 1427 03a4 01F4      		brne .L118
 1428               	.LSM275:
 1429 03a6 81E0      		ldi r24,lo8(1)
 1430 03a8 90E0      		ldi r25,hi8(1)
 1431 03aa 9093 0000 		sts press_time2+1,r25
 1432 03ae 8093 0000 		sts press_time2,r24
 1433 03b2 00C0      		rjmp .L126
 1434               	.L118:
 1435               	.LSM276:
 1436 03b4 1093 0000 		sts last_key,r17
 1437               	.LSM277:
 1438 03b8 81E0      		ldi r24,lo8(1)
 1439 03ba 90E0      		ldi r25,hi8(1)
 1440 03bc 9093 0000 		sts press_time+1,r25
 1441 03c0 8093 0000 		sts press_time,r24
 1442               	.LSM278:
 1443 03c4 1092 0000 		sts press_time2+1,__zero_reg__
 1444 03c8 1092 0000 		sts press_time2,__zero_reg__
 1445               	.LSM279:
 1446 03cc 1092 0000 		sts release_time+1,__zero_reg__
 1447 03d0 1092 0000 		sts release_time,__zero_reg__
 1448               	.L126:
 1449               	.LSM280:
 1450 03d4 1092 0000 		sts repeat_time+1,__zero_reg__
 1451 03d8 1092 0000 		sts repeat_time,__zero_reg__
 1452               	.L71:
 1453               	/* epilogue start */
 1454               	.LSM281:
 1455 03dc 1F91      		pop r17
 1456               	.LVL87:
 1457 03de 0895      		ret
 1458               	.LFE13:
 1460               		.section	.text.repeat_tick,"ax",@progbits
 1461               	.global	repeat_tick
 1463               	repeat_tick:
 1464               	.LFB12:
 1465               	.LSM282:
 1466               	/* prologue: function */
 1467               	/* frame size = 0 */
 1468               	/* stack size = 0 */
 1469               	.L__stack_usage = 0
 1470               	.LSM283:
 1471 0000 8091 0000 		lds r24,repeat_time
 1472 0004 9091 0000 		lds r25,repeat_time+1
 1473 0008 0097      		sbiw r24,0
 1474 000a 01F0      		breq .L131
 1475               	.LSM284:
 1476 000c 2091 0000 		lds r18,release_time
 1477 0010 3091 0000 		lds r19,release_time+1
 1478 0014 3695      		lsr r19
 1479 0016 2795      		ror r18
 1480 0018 3695      		lsr r19
 1481 001a 2795      		ror r18
 1482 001c 8217      		cp r24,r18
 1483 001e 9307      		cpc r25,r19
 1484 0020 00F4      		brsh .L132
 1485               	.LSM285:
 1486 0022 0196      		adiw r24,1
 1487 0024 00C0      		rjmp .L141
 1488               	.L132:
 1489               	.LSM286:
 1490 0026 81E0      		ldi r24,lo8(1)
 1491 0028 90E0      		ldi r25,hi8(1)
 1492 002a 9093 0000 		sts repeat_time+1,r25
 1493 002e 8093 0000 		sts repeat_time,r24
 1494               	.LSM287:
 1495 0032 8091 0000 		lds r24,turbo_repeat
 1496 0036 8823      		tst r24
 1497 0038 01F4      		brne .+2
 1498 003a 00C0      		rjmp .L130
 1499               	.LSM288:
 1500 003c 8091 0000 		lds r24,mod_keys
 1501 0040 8093 0000 		sts keyboard_modifier_keys,r24
 1502               	.LSM289:
 1503 0044 8091 0000 		lds r24,last_key
 1504 0048 0E94 0000 		call get_code
 1505 004c 8093 0000 		sts keyboard_keys,r24
 1506               	.LSM290:
 1507 0050 0E94 0000 		call usb_keyboard_send
 1508 0054 8823      		tst r24
 1509 0056 01F0      		breq .+2
 1510 0058 00C0      		rjmp .L130
 1511               	.LSM291:
 1512 005a 1092 0000 		sts keyboard_keys,__zero_reg__
 1513               	.LSM292:
 1514 005e 0E94 0000 		call usb_keyboard_send
 1515 0062 0895      		ret
 1516               	.L131:
 1517               	.LSM293:
 1518 0064 8091 0000 		lds r24,press_time2
 1519 0068 9091 0000 		lds r25,press_time2+1
 1520 006c 0097      		sbiw r24,0
 1521 006e 01F0      		breq .L134
 1522               	.LSM294:
 1523 0070 4091 0000 		lds r20,press_time
 1524 0074 5091 0000 		lds r21,press_time+1
 1525 0078 2091 0000 		lds r18,pressed+39
 1526 007c 2223      		tst r18
 1527 007e 01F0      		breq .L140
 1528 0080 25E0      		ldi r18,lo8(5)
 1529 0082 30E0      		ldi r19,hi8(5)
 1530 0084 00C0      		rjmp .L135
 1531               	.L140:
 1532 0086 2EE1      		ldi r18,lo8(30)
 1533 0088 30E0      		ldi r19,hi8(30)
 1534               	.L135:
 1535               	.LSM295:
 1536 008a 240F      		add r18,r20
 1537 008c 351F      		adc r19,r21
 1538 008e 8217      		cp r24,r18
 1539 0090 9307      		cpc r25,r19
 1540 0092 00F4      		brsh .L136
 1541               	.LSM296:
 1542 0094 0196      		adiw r24,1
 1543 0096 9093 0000 		sts press_time2+1,r25
 1544 009a 8093 0000 		sts press_time2,r24
 1545 009e 0895      		ret
 1546               	.L136:
 1547               	.LSM297:
 1548 00a0 81E0      		ldi r24,lo8(1)
 1549 00a2 90E0      		ldi r25,hi8(1)
 1550               	.L141:
 1551 00a4 9093 0000 		sts repeat_time+1,r25
 1552 00a8 8093 0000 		sts repeat_time,r24
 1553 00ac 0895      		ret
 1554               	.L134:
 1555               	.LSM298:
 1556 00ae 2091 0000 		lds r18,release_time
 1557 00b2 3091 0000 		lds r19,release_time+1
 1558 00b6 8091 0000 		lds r24,press_time
 1559 00ba 9091 0000 		lds r25,press_time+1
 1560 00be 2115      		cp r18,__zero_reg__
 1561 00c0 3105      		cpc r19,__zero_reg__
 1562 00c2 01F0      		breq .L137
 1563               	.LSM299:
 1564 00c4 C296      		adiw r24,50
 1565 00c6 2817      		cp r18,r24
 1566 00c8 3907      		cpc r19,r25
 1567 00ca 00F4      		brsh .L138
 1568               	.LSM300:
 1569 00cc 2F5F      		subi r18,lo8(-(1))
 1570 00ce 3F4F      		sbci r19,hi8(-(1))
 1571 00d0 3093 0000 		sts release_time+1,r19
 1572 00d4 2093 0000 		sts release_time,r18
 1573 00d8 0895      		ret
 1574               	.L138:
 1575               	.LSM301:
 1576 00da 8FEF      		ldi r24,lo8(-1)
 1577 00dc 8093 0000 		sts last_key,r24
 1578               	.LSM302:
 1579 00e0 1092 0000 		sts release_time+1,__zero_reg__
 1580 00e4 1092 0000 		sts release_time,__zero_reg__
 1581               	.LSM303:
 1582 00e8 1092 0000 		sts press_time+1,__zero_reg__
 1583 00ec 1092 0000 		sts press_time,__zero_reg__
 1584               	.LSM304:
 1585 00f0 1092 0000 		sts press_time2+1,__zero_reg__
 1586 00f4 1092 0000 		sts press_time2,__zero_reg__
 1587 00f8 0895      		ret
 1588               	.L137:
 1589               	.LSM305:
 1590 00fa 0097      		sbiw r24,0
 1591 00fc 01F0      		breq .L130
 1592               	.LSM306:
 1593 00fe 8A3F      		cpi r24,250
 1594 0100 9105      		cpc r25,__zero_reg__
 1595 0102 00F4      		brsh .L139
 1596               	.LSM307:
 1597 0104 0196      		adiw r24,1
 1598 0106 9093 0000 		sts press_time+1,r25
 1599 010a 8093 0000 		sts press_time,r24
 1600 010e 0895      		ret
 1601               	.L139:
 1602               	.LSM308:
 1603 0110 1092 0000 		sts press_time+1,__zero_reg__
 1604 0114 1092 0000 		sts press_time,__zero_reg__
 1605               	.L130:
 1606 0118 0895      		ret
 1607               	.LFE12:
 1609               		.section	.text.poll,"ax",@progbits
 1610               	.global	poll
 1612               	poll:
 1613               	.LFB10:
 1614               	.LSM309:
 1615 0000 8F92      		push r8
 1616 0002 9F92      		push r9
 1617 0004 AF92      		push r10
 1618 0006 BF92      		push r11
 1619 0008 CF92      		push r12
 1620 000a DF92      		push r13
 1621 000c EF92      		push r14
 1622 000e FF92      		push r15
 1623 0010 0F93      		push r16
 1624 0012 1F93      		push r17
 1625 0014 CF93      		push r28
 1626 0016 DF93      		push r29
 1627               	/* prologue: function */
 1628               	/* frame size = 0 */
 1629               	/* stack size = 12 */
 1630               	.L__stack_usage = 12
 1631               	.LVL88:
 1632               	.LSM310:
 1633 0018 00E0      		ldi r16,lo8(row_port)
 1634 001a 10E0      		ldi r17,hi8(row_port)
 1635 001c C0E0      		ldi r28,lo8(row_bit)
 1636 001e D0E0      		ldi r29,hi8(row_bit)
 1637               	.LSM311:
 1638 0020 9924      		clr r9
 1639               	.LVL89:
 1640               	.L146:
 1641               	.LSM312:
 1642 0022 D801      		movw r26,r16
 1643 0024 ED91      		ld r30,X+
 1644 0026 FC91      		ld r31,X
 1645               	.LSM313:
 1646 0028 5E01      		movw r10,r28
 1647               	.LSM314:
 1648 002a 9881      		ld r25,Y
 1649 002c 9095      		com r25
 1650 002e 8081      		ld r24,Z
 1651 0030 8923      		and r24,r25
 1652 0032 8083      		st Z,r24
 1653               	.LVL90:
 1654               	.LBB24:
 1655               	.LBB25:
 1656               	.LSM315:
 1657 0034 B5E0      		 ldi r27,lo8(5)
 1658 0036 BA95      	    1:dec r27
 1659 0038 01F4      	    brne 1b
 1660 003a 0000      		nop
 1661               	.LVL91:
 1662 003c 60E0      		ldi r22,lo8(col_pin)
 1663 003e E62E      		mov r14,r22
 1664 0040 60E0      		ldi r22,hi8(col_pin)
 1665 0042 F62E      		mov r15,r22
 1666 0044 50E0      		ldi r21,lo8(col_bit)
 1667 0046 C52E      		mov r12,r21
 1668 0048 50E0      		ldi r21,hi8(col_bit)
 1669 004a D52E      		mov r13,r21
 1670               	.LBE25:
 1671               	.LBE24:
 1672               	.LSM316:
 1673 004c 892C      		mov r8,r9
 1674               	.LVL92:
 1675               	.L145:
 1676               	.LSM317:
 1677 004e D701      		movw r26,r14
 1678 0050 ED91      		ld r30,X+
 1679 0052 FD91      		ld r31,X+
 1680 0054 7D01      		movw r14,r26
 1681 0056 D601      		movw r26,r12
 1682 0058 8D91      		ld r24,X+
 1683 005a 6D01      		movw r12,r26
 1684 005c 9081      		ld r25,Z
 1685 005e 8923      		and r24,r25
 1686 0060 282D      		mov r18,r8
 1687 0062 30E0      		ldi r19,lo8(0)
 1688 0064 01F4      		brne .L143
 1689               	.LSM318:
 1690 0066 2050      		subi r18,lo8(-(pressed))
 1691 0068 3040      		sbci r19,hi8(-(pressed))
 1692 006a F901      		movw r30,r18
 1693 006c 8081      		ld r24,Z
 1694 006e 8823      		tst r24
 1695 0070 01F4      		brne .L144
 1696               	.LSM319:
 1697 0072 882D      		mov r24,r8
 1698 0074 0E94 0000 		call key_press
 1699 0078 00C0      		rjmp .L144
 1700               	.L143:
 1701               	.LSM320:
 1702 007a 2050      		subi r18,lo8(-(pressed))
 1703 007c 3040      		sbci r19,hi8(-(pressed))
 1704 007e D901      		movw r26,r18
 1705 0080 8C91      		ld r24,X
 1706 0082 8823      		tst r24
 1707 0084 01F0      		breq .L144
 1708               	.LSM321:
 1709 0086 882D      		mov r24,r8
 1710 0088 0E94 0000 		call key_release
 1711               	.L144:
 1712 008c B5E0      		ldi r27,lo8(5)
 1713 008e 8B0E      		add r8,r27
 1714               	.LVL93:
 1715               	.LSM322:
 1716 0090 E0E0      		ldi r30,lo8(col_pin+24)
 1717 0092 EE16      		cp r14,r30
 1718 0094 E0E0      		ldi r30,hi8(col_pin+24)
 1719 0096 FE06      		cpc r15,r30
 1720 0098 01F4      		brne .L145
 1721               	.LSM323:
 1722 009a D801      		movw r26,r16
 1723 009c ED91      		ld r30,X+
 1724 009e FD91      		ld r31,X+
 1725 00a0 8D01      		movw r16,r26
 1726 00a2 2196      		adiw r28,1
 1727 00a4 8081      		ld r24,Z
 1728 00a6 D501      		movw r26,r10
 1729 00a8 9C91      		ld r25,X
 1730 00aa 892B      		or r24,r25
 1731 00ac 8083      		st Z,r24
 1732               	.LSM324:
 1733 00ae 9394      		inc r9
 1734               	.LVL94:
 1735 00b0 B92D      		mov r27,r9
 1736 00b2 B530      		cpi r27,lo8(5)
 1737 00b4 01F0      		breq .+2
 1738 00b6 00C0      		rjmp .L146
 1739               	.LSM325:
 1740 00b8 8091 0000 		lds r24,keyboard_leds
 1741 00bc 2091 0000 		lds r18,caps_lock_led
 1742 00c0 30E0      		ldi r19,lo8(0)
 1743 00c2 90E0      		ldi r25,lo8(0)
 1744 00c4 8270      		andi r24,lo8(2)
 1745 00c6 9070      		andi r25,hi8(2)
 1746 00c8 2817      		cp r18,r24
 1747 00ca 3907      		cpc r19,r25
 1748 00cc 01F0      		breq .L147
 1749               	.LBB26:
 1750               	.LSM326:
 1751 00ce 0E94 0000 		call caps_lock_change_layer
 1752               	.L147:
 1753               	.LBE26:
 1754               	.LSM327:
 1755 00d2 0E94 0000 		call repeat_tick
 1756               	.LVL95:
 1757               	.LBB27:
 1758               	.LBB28:
 1759               	.LSM328:
 1760 00d6 EFE1      		 ldi r30,lo8(19999)
 1761 00d8 FEE4      	    ldi r31,hi8(19999)
 1762 00da 3197      	    1:sbiw r30,1
 1763 00dc 01F4      	    brne 1b
 1764 00de 00C0      		rjmp .
 1765 00e0 0000      		nop
 1766               	/* epilogue start */
 1767               	.LBE28:
 1768               	.LBE27:
 1769               	.LSM329:
 1770 00e2 DF91      		pop r29
 1771 00e4 CF91      		pop r28
 1772 00e6 1F91      		pop r17
 1773 00e8 0F91      		pop r16
 1774 00ea FF90      		pop r15
 1775 00ec EF90      		pop r14
 1776 00ee DF90      		pop r13
 1777 00f0 CF90      		pop r12
 1778 00f2 BF90      		pop r11
 1779 00f4 AF90      		pop r10
 1780 00f6 9F90      		pop r9
 1781               	.LVL96:
 1782 00f8 8F90      		pop r8
 1783               	.LVL97:
 1784 00fa 0895      		ret
 1785               	.LFE10:
 1787               		.section	.text.main,"ax",@progbits
 1788               	.global	main
 1790               	main:
 1791               	.LFB8:
 1792               	.LSM330:
 1793               	/* prologue: function */
 1794               	/* frame size = 0 */
 1795               	/* stack size = 0 */
 1796               	.L__stack_usage = 0
 1797               	.LSM331:
 1798 0000 84B7      		in r24,84-32
 1799 0002 877F      		andi r24,lo8(-9)
 1800 0004 84BF      		out 84-32,r24
 1801               	.LSM332:
 1802 0006 88E1      		ldi r24,lo8(24)
 1803               	/* #APP */
 1804               	 ;  169 "catboard.c" 1
 1805 0008 0FB6      		in __tmp_reg__, __SREG__
 1806 000a F894      		cli
 1807 000c 8093 6000 		sts 96, r24
 1808 0010 1092 6000 		sts 96, __zero_reg__
 1809 0014 0FBE      		out __SREG__,__tmp_reg__
 1810               		
 1811               	 ;  0 "" 2
 1812               	.LVL98:
 1813               	/* #NOAPP */
 1814               	.LBB29:
 1815               	.LBB30:
 1816               	.LSM333:
 1817 0016 90E0      		ldi r25,lo8(0)
 1818 0018 80E8      		ldi r24,lo8(-128)
 1819               	/* #APP */
 1820               	 ;  1492 "/usr/lib/gcc/avr/4.5.3/../../../avr/include/avr/power.h" 1
 1821 001a 0FB6      		in __tmp_reg__,__SREG__
 1822 001c F894      		cli
 1823 001e 8093 6100 		sts 97, r24
 1824 0022 9093 6100 		sts 97, r25
 1825 0026 0FBE      		out __SREG__, __tmp_reg__
 1826               	 ;  0 "" 2
 1827               	/* #NOAPP */
 1828               	.LBE30:
 1829               	.LBE29:
 1830               	.LSM334:
 1831 0028 0E94 0000 		call init
 1832               	.L151:
 1833               	.LSM335:
 1834 002c 0E94 0000 		call poll
 1835 0030 00C0      		rjmp .L151
 1836               	.LFE8:
 1838               	.global	layer2
 1839               		.data
 1842               	layer2:
 1843 0000 35        		.byte	53
 1844 0001 2B        		.byte	43
 1845 0002 69        		.byte	105
 1846 0003 7D        		.byte	125
 1847 0004 29        		.byte	41
 1848 0005 1E        		.byte	30
 1849 0006 14        		.byte	20
 1850 0007 04        		.byte	4
 1851 0008 68        		.byte	104
 1852 0009 6D        		.byte	109
 1853 000a 1F        		.byte	31
 1854 000b 1A        		.byte	26
 1855 000c 16        		.byte	22
 1856 000d 1B        		.byte	27
 1857 000e 1D        		.byte	29
 1858 000f 20        		.byte	32
 1859 0010 08        		.byte	8
 1860 0011 07        		.byte	7
 1861 0012 06        		.byte	6
 1862 0013 67        		.byte	103
 1863 0014 21        		.byte	33
 1864 0015 15        		.byte	21
 1865 0016 09        		.byte	9
 1866 0017 19        		.byte	25
 1867 0018 65        		.byte	101
 1868 0019 22        		.byte	34
 1869 001a 17        		.byte	23
 1870 001b 0A        		.byte	10
 1871 001c 05        		.byte	5
 1872 001d 77        		.byte	119
 1873 001e 23        		.byte	35
 1874 001f 1C        		.byte	28
 1875 0020 0B        		.byte	11
 1876 0021 11        		.byte	17
 1877 0022 2C        		.byte	44
 1878 0023 24        		.byte	36
 1879 0024 18        		.byte	24
 1880 0025 0D        		.byte	13
 1881 0026 10        		.byte	16
 1882 0027 7F        		.byte	127
 1883 0028 25        		.byte	37
 1884 0029 0C        		.byte	12
 1885 002a 0E        		.byte	14
 1886 002b 36        		.byte	54
 1887 002c 6B        		.byte	107
 1888 002d 26        		.byte	38
 1889 002e 12        		.byte	18
 1890 002f 0F        		.byte	15
 1891 0030 37        		.byte	55
 1892 0031 38        		.byte	56
 1893 0032 27        		.byte	39
 1894 0033 13        		.byte	19
 1895 0034 33        		.byte	51
 1896 0035 31        		.byte	49
 1897 0036 6E        		.byte	110
 1898 0037 2D        		.byte	45
 1899 0038 2F        		.byte	47
 1900 0039 34        		.byte	52
 1901 003a 30        		.byte	48
 1902 003b 2E        		.byte	46
 1903               	.global	row_port
 1906               	row_port:
 1907 003c 2800      		.word	40
 1908 003e 2B00      		.word	43
 1909 0040 2500      		.word	37
 1910 0042 2500      		.word	37
 1911 0044 2500      		.word	37
 1912               	.global	row_bit
 1915               	row_bit:
 1916 0046 20        		.byte	32
 1917 0047 04        		.byte	4
 1918 0048 40        		.byte	64
 1919 0049 08        		.byte	8
 1920 004a 02        		.byte	2
 1921               	.global	col_pin
 1924               	col_pin:
 1925 004b 2900      		.word	41
 1926 004d 2900      		.word	41
 1927 004f 2900      		.word	41
 1928 0051 2300      		.word	35
 1929 0053 2600      		.word	38
 1930 0055 2900      		.word	41
 1931 0057 2300      		.word	35
 1932 0059 2600      		.word	38
 1933 005b 2300      		.word	35
 1934 005d 2300      		.word	35
 1935 005f 2600      		.word	38
 1936 0061 2300      		.word	35
 1937               	.global	col_bit
 1940               	col_bit:
 1941 0063 08        		.byte	8
 1942 0064 01        		.byte	1
 1943 0065 10        		.byte	16
 1944 0066 01        		.byte	1
 1945 0067 04        		.byte	4
 1946 0068 20        		.byte	32
 1947 0069 10        		.byte	16
 1948 006a 10        		.byte	16
 1949 006b 04        		.byte	4
 1950 006c 20        		.byte	32
 1951 006d 80        		.byte	-128
 1952 006e 80        		.byte	-128
 1953               	.global	layer1
 1956               	layer1:
 1957 006f 35        		.byte	53
 1958 0070 2B        		.byte	43
 1959 0071 69        		.byte	105
 1960 0072 7D        		.byte	125
 1961 0073 29        		.byte	41
 1962 0074 1E        		.byte	30
 1963 0075 14        		.byte	20
 1964 0076 04        		.byte	4
 1965 0077 68        		.byte	104
 1966 0078 6D        		.byte	109
 1967 0079 1F        		.byte	31
 1968 007a 1A        		.byte	26
 1969 007b 16        		.byte	22
 1970 007c 1B        		.byte	27
 1971 007d 1D        		.byte	29
 1972 007e 20        		.byte	32
 1973 007f 08        		.byte	8
 1974 0080 07        		.byte	7
 1975 0081 06        		.byte	6
 1976 0082 67        		.byte	103
 1977 0083 21        		.byte	33
 1978 0084 15        		.byte	21
 1979 0085 09        		.byte	9
 1980 0086 19        		.byte	25
 1981 0087 65        		.byte	101
 1982 0088 22        		.byte	34
 1983 0089 17        		.byte	23
 1984 008a 0A        		.byte	10
 1985 008b 05        		.byte	5
 1986 008c 77        		.byte	119
 1987 008d 23        		.byte	35
 1988 008e 1C        		.byte	28
 1989 008f 0B        		.byte	11
 1990 0090 11        		.byte	17
 1991 0091 2C        		.byte	44
 1992 0092 24        		.byte	36
 1993 0093 18        		.byte	24
 1994 0094 0D        		.byte	13
 1995 0095 10        		.byte	16
 1996 0096 7F        		.byte	127
 1997 0097 25        		.byte	37
 1998 0098 0C        		.byte	12
 1999 0099 0E        		.byte	14
 2000 009a 36        		.byte	54
 2001 009b 6B        		.byte	107
 2002 009c 26        		.byte	38
 2003 009d 12        		.byte	18
 2004 009e 0F        		.byte	15
 2005 009f 37        		.byte	55
 2006 00a0 38        		.byte	56
 2007 00a1 27        		.byte	39
 2008 00a2 13        		.byte	19
 2009 00a3 33        		.byte	51
 2010 00a4 31        		.byte	49
 2011 00a5 6E        		.byte	110
 2012 00a6 2D        		.byte	45
 2013 00a7 2F        		.byte	47
 2014 00a8 34        		.byte	52
 2015 00a9 30        		.byte	48
 2016 00aa 2E        		.byte	46
 2017               	.global	layer_fn
 2020               	layer_fn:
 2021 00ab 2F        		.byte	47
 2022 00ac 34        		.byte	52
 2023 00ad 69        		.byte	105
 2024 00ae 7D        		.byte	125
 2025 00af 7B        		.byte	123
 2026 00b0 23        		.byte	35
 2027 00b1 13        		.byte	19
 2028 00b2 33        		.byte	51
 2029 00b3 11        		.byte	17
 2030 00b4 6D        		.byte	109
 2031 00b5 24        		.byte	36
 2032 00b6 12        		.byte	18
 2033 00b7 0F        		.byte	15
 2034 00b8 10        		.byte	16
 2035 00b9 00        		.byte	0
 2036 00ba 25        		.byte	37
 2037 00bb 0C        		.byte	12
 2038 00bc 0E        		.byte	14
 2039 00bd 36        		.byte	54
 2040 00be 67        		.byte	103
 2041 00bf 26        		.byte	38
 2042 00c0 18        		.byte	24
 2043 00c1 0D        		.byte	13
 2044 00c2 37        		.byte	55
 2045 00c3 65        		.byte	101
 2046 00c4 27        		.byte	39
 2047 00c5 1C        		.byte	28
 2048 00c6 0B        		.byte	11
 2049 00c7 38        		.byte	56
 2050 00c8 77        		.byte	119
 2051 00c9 3F        		.byte	63
 2052 00ca 17        		.byte	23
 2053 00cb 0A        		.byte	10
 2054 00cc 05        		.byte	5
 2055 00cd 7C        		.byte	124
 2056 00ce 40        		.byte	64
 2057 00cf 15        		.byte	21
 2058 00d0 09        		.byte	9
 2059 00d1 19        		.byte	25
 2060 00d2 7F        		.byte	127
 2061 00d3 41        		.byte	65
 2062 00d4 08        		.byte	8
 2063 00d5 07        		.byte	7
 2064 00d6 06        		.byte	6
 2065 00d7 7E        		.byte	126
 2066 00d8 42        		.byte	66
 2067 00d9 1A        		.byte	26
 2068 00da 16        		.byte	22
 2069 00db 1B        		.byte	27
 2070 00dc 1D        		.byte	29
 2071 00dd 43        		.byte	67
 2072 00de 14        		.byte	20
 2073 00df 04        		.byte	4
 2074 00e0 1D        		.byte	29
 2075 00e1 7A        		.byte	122
 2076 00e2 29        		.byte	41
 2077 00e3 28        		.byte	40
 2078 00e4 2A        		.byte	42
 2079 00e5 47        		.byte	71
 2080 00e6 45        		.byte	69
 2081               	.global	layer_fnlock
 2084               	layer_fnlock:
 2085 00e7 35        		.byte	53
 2086 00e8 2B        		.byte	43
 2087 00e9 69        		.byte	105
 2088 00ea 7D        		.byte	125
 2089 00eb 7B        		.byte	123
 2090 00ec 1E        		.byte	30
 2091 00ed 4B        		.byte	75
 2092 00ee 4E        		.byte	78
 2093 00ef 68        		.byte	104
 2094 00f0 6D        		.byte	109
 2095 00f1 1F        		.byte	31
 2096 00f2 4A        		.byte	74
 2097 00f3 50        		.byte	80
 2098 00f4 6F        		.byte	111
 2099 00f5 6F        		.byte	111
 2100 00f6 20        		.byte	32
 2101 00f7 52        		.byte	82
 2102 00f8 51        		.byte	81
 2103 00f9 6F        		.byte	111
 2104 00fa 67        		.byte	103
 2105 00fb 21        		.byte	33
 2106 00fc 4D        		.byte	77
 2107 00fd 4F        		.byte	79
 2108 00fe 6F        		.byte	111
 2109 00ff 65        		.byte	101
 2110 0100 22        		.byte	34
 2111 0101 35        		.byte	53
 2112 0102 28        		.byte	40
 2113 0103 6F        		.byte	111
 2114 0104 77        		.byte	119
 2115 0105 23        		.byte	35
 2116 0106 54        		.byte	84
 2117 0107 55        		.byte	85
 2118 0108 62        		.byte	98
 2119 0109 2C        		.byte	44
 2120 010a 24        		.byte	36
 2121 010b 5F        		.byte	95
 2122 010c 5C        		.byte	92
 2123 010d 59        		.byte	89
 2124 010e 7F        		.byte	127
 2125 010f 25        		.byte	37
 2126 0110 60        		.byte	96
 2127 0111 5D        		.byte	93
 2128 0112 5A        		.byte	90
 2129 0113 6B        		.byte	107
 2130 0114 26        		.byte	38
 2131 0115 61        		.byte	97
 2132 0116 5E        		.byte	94
 2133 0117 5B        		.byte	91
 2134 0118 00        		.byte	0
 2135 0119 27        		.byte	39
 2136 011a 56        		.byte	86
 2137 011b 57        		.byte	87
 2138 011c 63        		.byte	99
 2139 011d 6E        		.byte	110
 2140 011e 2D        		.byte	45
 2141 011f 29        		.byte	41
 2142 0120 28        		.byte	40
 2143 0121 53        		.byte	83
 2144 0122 2E        		.byte	46
 2145               	.global	os_mode
 2148               	os_mode:
 2149 0123 01        		.byte	1
 2150               	.global	caps_lock_led
 2151               	.global	caps_lock_led
 2152               		.section .bss
 2155               	caps_lock_led:
 2156 0000 00        		.skip 1,0
 2157               	.global	layout
 2158               		.data
 2161               	layout:
 2162 0124 0000      		.word	layer2
 2163               	.global	queue
 2166               	queue:
 2167 0126 FF        		.byte	-1
 2168 0127 FF        		.byte	-1
 2169 0128 FF        		.byte	-1
 2170 0129 FF        		.byte	-1
 2171 012a FF        		.byte	-1
 2172 012b FF        		.byte	-1
 2173 012c FF        		.byte	-1
 2174               	.global	mod_keys
 2175               	.global	mod_keys
 2176               		.section .bss
 2179               	mod_keys:
 2180 0001 00        		.skip 1,0
 2181               	.global	prev_layer
 2182               	.global	prev_layer
 2185               	prev_layer:
 2186 0002 0000      		.skip 2,0
 2187               	.global	turbo_repeat
 2188               		.data
 2191               	turbo_repeat:
 2192 012d 01        		.byte	1
 2193               	.global	locked
 2194               	.global	locked
 2195               		.section .bss
 2198               	locked:
 2199 0004 00        		.skip 1,0
 2200               	.global	led
 2201               		.data
 2204               	led:
 2205 012e 01        		.byte	1
 2206               	.global	last_key
 2209               	last_key:
 2210 012f FF        		.byte	-1
 2211               	.global	press_time
 2212               	.global	press_time
 2213               		.section .bss
 2216               	press_time:
 2217 0005 0000      		.skip 2,0
 2218               	.global	press_time2
 2219               	.global	press_time2
 2222               	press_time2:
 2223 0007 0000      		.skip 2,0
 2224               	.global	release_time
 2225               	.global	release_time
 2228               	release_time:
 2229 0009 0000      		.skip 2,0
 2230               	.global	repeat_time
 2231               	.global	repeat_time
 2234               	repeat_time:
 2235 000b 0000      		.skip 2,0
 2236               		.comm pressed,60,1
 2341               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 catboard.c
     /tmp/ccJMukIW.s:2      *ABS*:0000003f __SREG__
     /tmp/ccJMukIW.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccJMukIW.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccJMukIW.s:5      *ABS*:00000034 __CCP__
     /tmp/ccJMukIW.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/ccJMukIW.s:7      *ABS*:00000001 __zero_reg__
     /tmp/ccJMukIW.s:19     .text.caps_lock_change_layer:00000000 caps_lock_change_layer
     /tmp/ccJMukIW.s:2155   .bss:00000000 caps_lock_led
     /tmp/ccJMukIW.s:2161   .data:00000124 layout
     /tmp/ccJMukIW.s:1956   .data:0000006f layer1
     /tmp/ccJMukIW.s:2020   .data:000000ab layer_fn
     /tmp/ccJMukIW.s:2185   .bss:00000002 prev_layer
     /tmp/ccJMukIW.s:2204   .data:0000012e led
     /tmp/ccJMukIW.s:1842   .data:00000000 layer2
     /tmp/ccJMukIW.s:99     .text.change_layout:00000000 change_layout
     /tmp/ccJMukIW.s:2148   .data:00000123 os_mode
     /tmp/ccJMukIW.s:172    .text.init_ports:00000000 init_ports
     /tmp/ccJMukIW.s:199    .text.init:00000000 init
                            *COM*:0000003c pressed
     /tmp/ccJMukIW.s:268    .text.get_code:00000000 get_code
     /tmp/ccJMukIW.s:341    .text.send:00000000 send
     /tmp/ccJMukIW.s:2166   .data:00000126 queue
     /tmp/ccJMukIW.s:2179   .bss:00000001 mod_keys
     /tmp/ccJMukIW.s:388    .text.key_release:00000000 key_release
     /tmp/ccJMukIW.s:2198   .bss:00000004 locked
     /tmp/ccJMukIW.s:2209   .data:0000012f last_key
     /tmp/ccJMukIW.s:2216   .bss:00000005 press_time
     /tmp/ccJMukIW.s:2222   .bss:00000007 press_time2
     /tmp/ccJMukIW.s:2228   .bss:00000009 release_time
     /tmp/ccJMukIW.s:2234   .bss:0000000b repeat_time
     /tmp/ccJMukIW.s:846    .text.key_press:00000000 key_press
     /tmp/ccJMukIW.s:2084   .data:000000e7 layer_fnlock
     /tmp/ccJMukIW.s:2191   .data:0000012d turbo_repeat
     /tmp/ccJMukIW.s:1463   .text.repeat_tick:00000000 repeat_tick
     /tmp/ccJMukIW.s:1612   .text.poll:00000000 poll
     /tmp/ccJMukIW.s:1906   .data:0000003c row_port
     /tmp/ccJMukIW.s:1915   .data:00000046 row_bit
     /tmp/ccJMukIW.s:1924   .data:0000004b col_pin
     /tmp/ccJMukIW.s:1940   .data:00000063 col_bit
     /tmp/ccJMukIW.s:1790   .text.main:00000000 main

UNDEFINED SYMBOLS
keyboard_leds
keyboard_modifier_keys
keyboard_keys
usb_keyboard_send
usb_keyboard_press
usb_init
usb_configured
__do_copy_data
__do_clear_bss
